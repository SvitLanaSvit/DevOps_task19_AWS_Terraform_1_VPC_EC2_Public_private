# ğŸ›¡ï¸ Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Security Groups - Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ– Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ—

## ğŸ“‹ ĞĞ³Ğ»ÑĞ´ ĞºÑ€Ğ¾ĞºÑƒ

**ĞœĞµÑ‚Ğ°**: ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸ Ğ´Ğ»Ñ EC2 Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑ–Ğ²  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: âœ… Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ¾ ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾  
---

## ğŸ”’ Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ Security Groups?

**Security Groups** - Ñ†Ğµ Ğ²Ñ–Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ– Ñ„Ğ°Ñ”Ñ€Ğ²Ğ¾Ğ»Ğ¸ Ğ½Ğ° Ñ€Ñ–Ğ²Ğ½Ñ– Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑƒ, ÑĞºÑ– ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑÑÑ‚ÑŒ Ğ²Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ğ° Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº Ğ´Ğ¾ EC2 Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑ–Ğ². Ğ’Ğ¾Ğ½Ğ¸ Ğ¿Ñ€Ğ°Ñ†ÑÑÑ‚ÑŒ ÑĞº "Ğ¾Ñ…Ğ¾Ñ€Ğ¾Ğ½Ñ†Ñ–" ÑĞºÑ– Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑÑ‚ÑŒ ĞºĞ¾Ğ¶ĞµĞ½ Ğ¿Ğ°ĞºĞµÑ‚ Ğ´Ğ°Ğ½Ğ¸Ñ….

### ğŸ¯ ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ğ¾ÑĞ¾Ğ±Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– Security Groups:
1. **Stateful** - Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑÑ‚ÑŒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ½Ğ° Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ²Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº
2. **Deny by default** - Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼ Ğ²ÑĞµ Ğ·Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ½ĞµĞ½Ğ¾
3. **Allow rules only** - Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ‚Ğ¸, Ğ½Ğµ Ğ·Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ½ÑÑ‚Ğ¸
4. **Instance level** - Ğ´Ñ–ÑÑ‚ÑŒ Ğ½Ğ° Ñ€Ñ–Ğ²Ğ½Ñ– Ğ¼ĞµÑ€ĞµĞ¶ĞµĞ²Ğ¾Ğ³Ğ¾ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑƒ EC2

### ğŸ”§ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Security Groups:
- **Ingress rules** - ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑÑÑ‚ÑŒ **Ğ²Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹** Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº (Ñ‰Ğ¾ Ğ¼Ğ¾Ğ¶Ğµ Ğ¿Ğ¾Ñ‚Ñ€Ğ°Ğ¿Ğ¸Ñ‚Ğ¸ Ğ´Ğ¾ Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑƒ)
- **Egress rules** - ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑÑÑ‚ÑŒ **Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹** Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº (Ñ‰Ğ¾ Ğ¼Ğ¾Ğ¶Ğµ Ğ²Ğ¸Ğ¹Ñ‚Ğ¸ Ğ· Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑƒ)

### ğŸ’¡ Ğ’Ğ°Ğ¶Ğ»Ğ¸Ğ²Ğ¾ Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ñ‚Ğ¸:
- ĞĞ´Ğ¸Ğ½ Ñ–Ğ½ÑÑ‚Ğ°Ğ½Ñ Ğ¼Ğ¾Ğ¶Ğµ Ğ¼Ğ°Ñ‚Ğ¸ **Ğ´ĞµĞºÑ–Ğ»ÑŒĞºĞ° Security Groups**
- ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° **Ğ´Ğ¾Ğ´Ğ°ÑÑ‚ÑŒÑÑ** (Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°ÑÑ‚ÑŒÑÑ)
- Ğ—Ğ¼Ñ–Ğ½Ğ¸ Ğ·Ğ°ÑÑ‚Ğ¾ÑĞ¾Ğ²ÑƒÑÑ‚ÑŒÑÑ **Ğ¼Ğ¸Ñ‚Ñ‚Ñ”Ğ²Ğ¾**
- **ĞĞµĞ¼Ğ°Ñ” Ğ¿Ğ¾Ñ€ÑĞ´ĞºÑƒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»** - Ğ²ÑÑ– Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑÑ‚ÑŒÑÑ Ğ¾Ğ´Ğ½Ğ¾Ñ‡Ğ°ÑĞ½Ğ¾

---

## ğŸ¯ ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Security Groups Ğ´Ğ»Ñ Ğ½Ğ°ÑˆĞ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ

### ğŸ“Š ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Ğ¼Ñ–Ğ½Ñ–Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¸Ñ… Ğ¿Ñ€Ğ¸Ğ²Ñ–Ğ»ĞµÑ—Ğ²:
Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ½Ğ¾ Ğ´Ğ¾ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ, Ğ½Ğ°Ğ¼ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ SSH Ğ´Ğ¾ÑÑ‚ÑƒĞ¿, Ñ‚Ğ¾Ğ¼Ñƒ Ğ¼Ğ¸ ÑÑ‚Ğ²Ğ¾Ñ€ÑÑ”Ğ¼Ğ¾ Ğ¼Ñ–Ğ½Ñ–Ğ¼Ğ°Ğ»Ñ–ÑÑ‚Ğ¸Ñ‡Ğ½Ñƒ ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Internet                             â”‚
â”‚                   0.0.0.0/0                             â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ SSH (22)
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VPC (10.0.0.0/16)                          â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Public Subnet (10.0.1.0/24)             â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚        Public EC2 (Jump Host)           â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    Security Group: sg-097e16fe4c8bcc4bf â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    âœ… SSH (22) â† 0.0.0.0/0              â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    âœ… All traffic â†’ 0.0.0.0/0           â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                         â”‚ SSH (22)                      â”‚
â”‚                         â–¼                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚        Private Subnet (10.0.2.0/24)             â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚         Private EC2                     â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    Security Group: sg-0c9acb2f6a65aedf9 â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    âœ… SSH (22) â† 10.0.1.0/24            â”‚    â”‚    â”‚
â”‚  â”‚  â”‚    âœ… All traffic â†’ 0.0.0.0/0           â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Ğ©Ğ¾ ÑÑ‚Ğ²Ğ¾Ñ€Ğ¸Ğ»Ğ¸

### ğŸŒ **Public Security Group** (`sg-097e16fe4c8bcc4bf`):
- **ĞĞ°Ğ·Ğ²Ğ°**: `terraform-vpc-exercise-public-sg`
- **ĞŸÑ€Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ**: Jump Host / Bastion Server

**Ingress Rules (Ğ²Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº):**
```hcl
# SSH Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ· Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ
ingress {
  description = "SSH from My IP"
  from_port   = 22
  to_port     = 22
  protocol    = "tcp"
  cidr_blocks = ["0.0.0.0/0"]  # Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ· Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ñ— IP Ğ°Ğ´Ñ€ĞµÑĞ¸
}
```

**Egress Rules (Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº):**
```hcl
# ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ
egress {
  description = "All outbound traffic"
  from_port   = 0
  to_port     = 0
  protocol    = "-1"           # Ğ’ÑÑ– Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¸
  cidr_blocks = ["0.0.0.0/0"]  # Ğ”Ğ¾ Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¸Ñ… Ğ°Ğ´Ñ€ĞµÑ
}
```

### ğŸ”’ **Private Security Group** (`sg-0c9acb2f6a65aedf9`):
- **ĞĞ°Ğ·Ğ²Ğ°**: `terraform-vpc-exercise-private-sg`  
- **ĞŸÑ€Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ**: ĞŸÑ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¸Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€ (Database/Backend)

**Ingress Rules (Ğ²Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº):**
```hcl
# SSH Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ· Ğ¿ÑƒĞ±Ğ»Ñ–Ñ‡Ğ½Ğ¾Ñ— Ğ¿Ñ–Ğ´Ğ¼ĞµÑ€ĞµĞ¶Ñ–  
ingress {
  description = "SSH from Public Subnet"
  from_port   = 22
  to_port     = 22
  protocol    = "tcp"
  cidr_blocks = ["10.0.1.0/24"]  # Ğ¢Ñ–Ğ»ÑŒĞºĞ¸ Ğ· Ğ¿ÑƒĞ±Ğ»Ñ–Ñ‡Ğ½Ğ¾Ñ— Ğ¿Ñ–Ğ´Ğ¼ĞµÑ€ĞµĞ¶Ñ–!
}
```

**Egress Rules (Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº):**
```hcl
# ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ (Ñ‡ĞµÑ€ĞµĞ· NAT Gateway)
egress {
  description = "All outbound traffic"
  from_port   = 0
  to_port     = 0
  protocol    = "-1"
  cidr_blocks = ["0.0.0.0/0"]  # Ğ”Ğ»Ñ Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ÑŒ Ñ‡ĞµÑ€ĞµĞ· NAT
}
```

---

## ğŸ’» ĞšĞ¾Ğ´ ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ—

### 1. Public Security Group (Ğ² security_groups.tf):
```hcl
# Security Group Ğ´Ğ»Ñ Ğ¿ÑƒĞ±Ğ»Ñ–Ñ‡Ğ½Ğ¾Ğ³Ğ¾ EC2 (Jump Host / Bastion)
resource "aws_security_group" "public_ec2" {
  name        = "${var.project_name}-public-sg"
  description = "Security Group for public EC2 instance (Jump Host)"
  vpc_id      = aws_vpc.main.id

  # SSH Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ· Ğ²Ğ°ÑˆĞ¾Ñ— IP Ğ°Ğ´Ñ€ĞµÑĞ¸
  ingress {
    description = "SSH from My IP"
    from_port   = 22
    to_port     = 22
    protocol    = "tcp"
    cidr_blocks = ["0.0.0.0/0"] # Ğ£Ğ’ĞĞ“Ğ: Ğ·Ğ°Ğ¼Ñ–Ğ½Ñ–Ñ‚ÑŒ Ğ½Ğ° Ğ²Ğ°ÑˆÑƒ IP Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸
  }

  # Ğ’ĞµÑÑŒ Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº
  egress {
    description = "All outbound traffic"
    from_port   = 0
    to_port     = 0
    protocol    = "-1"
    cidr_blocks = ["0.0.0.0/0"]
  }

  tags = {
    Name = "${var.project_name}-public-sg"
    Type = "Public"
  }
}
```

### 2. Private Security Group:
```hcl
# Security Group Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾Ğ³Ğ¾ EC2
resource "aws_security_group" "private_ec2" {
  name        = "${var.project_name}-private-sg"
  description = "Security Group for private EC2 instance"
  vpc_id      = aws_vpc.main.id

  # SSH Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ· Ğ¿ÑƒĞ±Ğ»Ñ–Ñ‡Ğ½Ğ¾Ñ— Ğ¿Ñ–Ğ´Ğ¼ĞµÑ€ĞµĞ¶Ñ– (Jump Host)
  ingress {
    description = "SSH from Public Subnet"
    from_port   = 22
    to_port     = 22
    protocol    = "tcp"
    cidr_blocks = ["10.0.1.0/24"]
  }

  # Ğ’ĞµÑÑŒ Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ñ–Ğº (Ğ´Ğ»Ñ Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ÑŒ Ñ‡ĞµÑ€ĞµĞ· NAT)
  egress {
    description = "All outbound traffic"
    from_port   = 0
    to_port     = 0
    protocol    = "-1"
    cidr_blocks = ["0.0.0.0/0"]
  }

  tags = {
    Name = "${var.project_name}-private-sg"
    Type = "Private"
  }
}
```

### 3. Outputs (Ğ² outputs.tf):
```hcl
# Security Groups Outputs
output "public_security_group_id" {
  description = "ID Security Group Ğ´Ğ»Ñ Ğ¿ÑƒĞ±Ğ»Ñ–Ñ‡Ğ½Ğ¾Ğ³Ğ¾ EC2"
  value       = aws_security_group.public_ec2.id
}

output "private_security_group_id" {
  description = "ID Security Group Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾Ğ³Ğ¾ EC2"
  value       = aws_security_group.private_ec2.id
}
```

---

## ğŸ”§ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ

### 1. ĞŸĞ»Ğ°Ğ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ·Ğ¼Ñ–Ğ½:
```bash
export AWS_PROFILE=sk-terraform-user
terraform plan -var-file="environments/lab.tfvars"
```

### 2. Ğ—Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ·Ğ¼Ñ–Ğ½:
```bash
terraform apply -var-file="environments/lab.tfvars" -auto-approve
```

**âš ï¸ Ğ’Ğ°Ğ¶Ğ»Ğ¸Ğ²Ğ¾**: ĞŸĞµÑ€ÑˆÑƒ ÑĞ¿Ñ€Ğ¾Ğ±Ñƒ Ğ¼Ğ¾Ğ¶Ğµ Ğ½Ğµ Ğ²Ğ´Ğ°Ñ‚Ğ¸ÑÑ Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¸Ñ€Ğ¸Ğ»Ğ¸Ñ†Ñ Ğ² Ğ¾Ğ¿Ğ¸ÑĞ°Ñ…. ĞŸĞ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ·Ğ°Ğ¼Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ğ½Ğ° Ğ°Ğ½Ğ³Ğ»Ñ–Ğ¹ÑÑŒĞºÑ– Ğ¾Ğ¿Ğ¸ÑĞ¸.

### 3. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° outputs:
```bash
terraform output
```

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚**:
```
public_security_group_id = "sg-097e16fe4c8bcc4bf"
private_security_group_id = "sg-0c9acb2f6a65aedf9"
```

![Terraform Output Security Groups](../Screens/10.1_tf_output.png)

---

## ğŸ” ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ² AWS Console

### 1. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Security Groups:
- **ĞŸĞµÑ€ĞµÑ…Ñ–Ğ´**: EC2 â†’ Security Groups
- **Ğ¤Ñ–Ğ»ÑŒÑ‚Ñ€**: VPC = `vpc-0d0c0723032da8852`

![Security Groups Ğ² AWS Console](../Screens/10.2_aws_sg.png)

### 2. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Public Security Group:
- **ID**: `sg-097e16fe4c8bcc4bf`
- **Name**: `terraform-vpc-exercise-public-sg`
- **Inbound rules**: SSH (22) from 0.0.0.0/0
- **Outbound rules**: All traffic to 0.0.0.0/0

![Public Security Group Overview](../Screens/10.3_aws_sg_public.png)
![Public Security Group Inbound Rules](../Screens/10.4_aws_sg_public.png)
![Public Security Group Outbound Rules](../Screens/10.5_aws_sg_public.png)

### 3. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Private Security Group:
- **ID**: `sg-0c9acb2f6a65aedf9`
- **Name**: `terraform-vpc-exercise-private-sg`  
- **Inbound rules**: SSH (22) from 10.0.1.0/24
- **Outbound rules**: All traffic to 0.0.0.0/0

![Private Security Group Overview](../Screens/10.6_aws_sg_private.png)
![Private Security Group Inbound Rules](../Screens/10.7_aws_sg_private.png)
![Private Security Group Outbound Rules](../Screens/10.8_aws_sg_private.png)

---

## ğŸ” ĞĞ½Ğ°Ğ»Ñ–Ğ· Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸

### âœ… Ğ©Ğ¾ Ğ´Ğ¾Ğ±Ñ€Ğµ Ğ² Ğ½Ğ°ÑˆÑ–Ğ¹ ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ—:
1. **ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Ğ¼Ñ–Ğ½Ñ–Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¸Ñ… Ğ¿Ñ€Ğ¸Ğ²Ñ–Ğ»ĞµÑ—Ğ²** - Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ñ– Ğ¿Ğ¾Ñ€Ñ‚Ğ¸
2. **Layered security** - Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¸Ğ¹ Ñ–Ğ½ÑÑ‚Ğ°Ğ½Ñ Ğ·Ğ°Ñ…Ğ¸Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾Ğ´Ğ²Ñ–Ğ¹Ğ½Ğ¾
3. **No direct access** - Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¸Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ğ· Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ
4. **Controlled access** - Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ñ‡ĞµÑ€ĞµĞ· Jump Host

### âš ï¸ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ñ–Ñ— Ğ´Ğ»Ñ production:
1. **ĞĞ±Ğ¼ĞµĞ¶Ğ¸Ñ‚Ğ¸ SSH Ğ´Ğ¾ÑÑ‚ÑƒĞ¿** - Ğ·Ğ°Ğ¼Ñ–ÑÑ‚ÑŒ `0.0.0.0/0` Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ñ‚Ğ¸ Ğ²Ğ°ÑˆÑƒ IP:
   ```hcl
   cidr_blocks = ["YOUR_IP/32"]  # Ğ—Ğ°Ğ¼Ñ–ÑÑ‚ÑŒ 0.0.0.0/0
   ```

2. **Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ñ‚Ğ¸ Key Pairs** - Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ SSH ĞºĞ»ÑÑ‡Ñ–, Ğ½Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ–

3. **Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³** - CloudTrail, VPC Flow Logs

4. **Ğ ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ñ– Ñ€Ğ¾Ñ‚Ğ°Ñ†Ñ–Ñ—** - SSH ĞºĞ»ÑÑ‡Ñ–Ğ² Ñ‚Ğ° Security Groups

---

## ğŸ“Š Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Security Groups

### ğŸ§ª Ğ©Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ±ÑƒĞ´Ğµ Ğ¿Ñ€Ğ¾Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ (Ğ¿Ñ–ÑĞ»Ñ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ EC2):

#### 1. **SSH Ğ´Ğ¾ Ğ¿ÑƒĞ±Ğ»Ñ–Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑƒ** âœ…
```bash
ssh -i key.pem ec2-user@<public-ip>
```
**ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚**: Ğ£ÑĞ¿Ñ–ÑˆĞ½Ğµ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ

#### 2. **SSH Ğ´Ğ¾ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑƒ Ğ· Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ** âŒ
```bash
ssh -i key.pem ec2-user@<private-ip>  # ĞœĞ°Ñ” ĞĞ• Ğ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ñ‚Ğ¸
```
**ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚**: Connection timeout (Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¾Ğ²Ğ°Ğ½Ğ¾ Security Group)

#### 3. **SSH Ğ´Ğ¾ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑƒ Ñ‡ĞµÑ€ĞµĞ· Jump Host** âœ…
```bash
ssh -i key.pem -J ec2-user@<public-ip> ec2-user@<private-ip>
```
**ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚**: Ğ£ÑĞ¿Ñ–ÑˆĞ½Ğµ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ Ñ‡ĞµÑ€ĞµĞ· Jump Host

---

## âœ… Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚

### Ğ©Ğ¾ Ğ´Ğ¾ÑÑĞ³Ğ½ÑƒÑ‚Ğ¾:
1. âœ… **Public Security Group ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾** Ğ· Ğ¼Ñ–Ğ½Ñ–Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¼Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ
2. âœ… **Private Security Group ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾** Ğ· Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ¸Ğ¼ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ¾Ğ¼ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ· Jump Host
3. âœ… **ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸ Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²Ğ°Ğ½Ğ°** Ğ·Ğ³Ñ–Ğ´Ğ½Ğ¾ Ğ· Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ°Ğ¼Ğ¸ least privilege  
4. âœ… **Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ğ´Ğ¾ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ EC2** - Security Groups Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ– Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸ĞºÑ€Ñ–Ğ¿Ğ»ĞµĞ½Ğ½Ñ

### ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ– Ğ¿ĞµÑ€ĞµĞ²Ğ°Ğ³Ğ¸:
- ğŸ”’ **Ğ—Ğ°Ñ…Ğ¸ÑÑ‚ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ°** - Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ğ· Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ
- ğŸšª **ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒĞ¾Ğ²Ğ°Ğ½Ğ° Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ñƒ** - Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ñ‡ĞµÑ€ĞµĞ· Jump Host
- ğŸ›¡ï¸ **ĞœÑ–Ğ½Ñ–Ğ¼Ğ°Ğ»ÑŒĞ½Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ…Ğ½Ñ Ğ°Ñ‚Ğ°ĞºĞ¸** - Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ñ– Ğ¿Ğ¾Ñ€Ñ‚Ğ¸ Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ñ–
- âš¡ **ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ** - Ğ·Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ğ»Ğ° Ñ‚Ğ° Ñ‡Ñ–Ñ‚ĞºĞ° ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ

### ĞĞ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ ĞºÑ€Ğ¾Ğº:
ğŸ–¥ï¸ **ĞšÑ€Ğ¾Ğº 7**: Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ EC2 Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑÑ–Ğ² Ğ· Ğ¿Ñ€Ğ¸ĞºÑ€Ñ–Ğ¿Ğ»ĞµĞ½Ğ½ÑĞ¼ Security Groups

---

## ğŸ’° Ğ’Ğ°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ

**Security Groups** - **Ğ±ĞµĞ·ĞºĞ¾ÑˆÑ‚Ğ¾Ğ²Ğ½Ñ–**! ğŸ‰
- ĞĞµĞ¼Ğ°Ñ” Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºĞ¾Ğ²Ğ¸Ñ… Ğ²Ğ¸Ñ‚Ñ€Ğ°Ñ‚ Ğ·Ğ° ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ°Ğ±Ğ¾ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ
- Ğ’Ğ¸Ñ‚Ñ€Ğ°Ñ‚Ğ¸ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ·Ğ° EC2 Ñ–Ğ½ÑÑ‚Ğ°Ğ½ÑĞ¸ ÑĞºÑ– Ğ±ÑƒĞ´ÑƒÑ‚ÑŒ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ†Ñ– Security Groups

---

## ğŸ”— ĞšĞ¾Ñ€Ğ¸ÑĞ½Ñ– Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ

- [AWS Security Groups Documentation](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html)
- [Terraform aws_security_group](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group)
- [AWS Security Best Practices](https://docs.aws.amazon.com/security/aws-security-best-practices/)
- [SSH Jump Host Setup](https://wiki.gentoo.org/wiki/SSH_jump_host)